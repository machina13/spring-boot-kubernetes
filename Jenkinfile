pipeline {
    agent any 
    stages {
        stage('SCM') {
            steps {
                checkout scm 
            }
        }

        stage('SAST') {
            steps {
                sh 'chmod +x mvnw'
                sh './mvnw -B verify sonar:sonar -Dsonar.login=eb402dfd87ab83bfa88e9047d9c7add47053da27 -Dsonar.branch.name=master -Dsonar.host.url=https://sonarcloud.io -Dsonar.projectKey=machina13_spring-boot-kubernetes -Dsonar.organization=machina13'
		echo '$hellofriend ${qg.status}'
            }
        }
//	stage("Quality Gate") {
//           steps {
//                timeout(time: 1, unit: 'HOURS') {
//                    // Parameter indicates whether to set pipeline to UNSTABLE if Quality Gate fails
//                    // true = set pipeline to UNSTABLE, false = don't
//                    waitForQualityGate abortPipeline: true
//                }
    }
}

